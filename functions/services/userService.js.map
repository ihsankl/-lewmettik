{"version":3,"file":"userService.js","names":["getAllUsers","User","fetchAll","getUser","id","fetch","then","user","catch","NotFoundError","Boom","notFound","createUser","name","save","updateUser","deleteUser","destroy"],"sources":["../../src/services/userService.js"],"sourcesContent":["import Boom from '@hapi/boom';\n\nimport User from '../models/user';\n\n/**\n * Get all users.\n *\n * @returns {Promise}\n */\nexport function getAllUsers() {\n  return User.fetchAll();\n}\n\n/**\n * Get a user.\n *\n * @param   {Number|String}  id\n * @returns {Promise}\n */\nexport function getUser(id) {\n  return new User({ id })\n    .fetch()\n    .then(user => user)\n    .catch(User.NotFoundError, () => {\n      throw Boom.notFound('User not found');\n    });\n}\n\n/**\n * Create new user.\n *\n * @param   {Object}  user\n * @returns {Promise}\n */\nexport function createUser(user) {\n  return new User({ name: user.name }).save();\n}\n\n/**\n * Update a user.\n *\n * @param   {Number|String}  id\n * @param   {Object}         user\n * @returns {Promise}\n */\nexport function updateUser(id, user) {\n  return new User({ id }).save({ name: user.name });\n}\n\n/**\n * Delete a user.\n *\n * @param   {Number|String}  id\n * @returns {Promise}\n */\nexport function deleteUser(id) {\n  return new User({ id }).fetch().then(user => user.destroy());\n}\n"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;;;AAEA;AACA;AACA;AACA;AACA;AACO,SAASA,WAAT,GAAuB;EAC5B,OAAOC,cAAKC,QAAL,EAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACO,SAASC,OAAT,CAAiBC,EAAjB,EAAqB;EAC1B,OAAO,IAAIH,aAAJ,CAAS;IAAEG;EAAF,CAAT,EACJC,KADI,GAEJC,IAFI,CAECC,IAAI,IAAIA,IAFT,EAGJC,KAHI,CAGEP,cAAKQ,aAHP,EAGsB,MAAM;IAC/B,MAAMC,cAAKC,QAAL,CAAc,gBAAd,CAAN;EACD,CALI,CAAP;AAMD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACO,SAASC,UAAT,CAAoBL,IAApB,EAA0B;EAC/B,OAAO,IAAIN,aAAJ,CAAS;IAAEY,IAAI,EAAEN,IAAI,CAACM;EAAb,CAAT,EAA8BC,IAA9B,EAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACO,SAASC,UAAT,CAAoBX,EAApB,EAAwBG,IAAxB,EAA8B;EACnC,OAAO,IAAIN,aAAJ,CAAS;IAAEG;EAAF,CAAT,EAAiBU,IAAjB,CAAsB;IAAED,IAAI,EAAEN,IAAI,CAACM;EAAb,CAAtB,CAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACO,SAASG,UAAT,CAAoBZ,EAApB,EAAwB;EAC7B,OAAO,IAAIH,aAAJ,CAAS;IAAEG;EAAF,CAAT,EAAiBC,KAAjB,GAAyBC,IAAzB,CAA8BC,IAAI,IAAIA,IAAI,CAACU,OAAL,EAAtC,CAAP;AACD"}